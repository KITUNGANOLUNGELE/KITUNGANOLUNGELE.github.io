import{w as b,aC as h,o as x,g,O as T,x as M,aD as H,aE as B,V as D,X as E}from"./index.f98bd38e.js";const A={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},C=["beforeShow","show","beforeHide","hide"];function F({showing:o,canShow:u,hideOnRouteChange:r,handleShow:t,handleHide:a,processOnMount:S}){const f=g(),{props:l,emit:i,proxy:c}=f;let n;function U(e){o.value===!0?d(e):m(e)}function m(e){if(l.disable===!0||e!==void 0&&e.qAnchorHandled===!0||u!==void 0&&u(e)!==!0)return;const s=l["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!0),n=e,T(()=>{n===e&&(n=void 0)})),(l.modelValue===null||s===!1)&&p(e)}function p(e){o.value!==!0&&(o.value=!0,i("beforeShow",e),t!==void 0?t(e):i("show",e))}function d(e){if(l.disable===!0)return;const s=l["onUpdate:modelValue"]!==void 0;s===!0&&(i("update:modelValue",!1),n=e,T(()=>{n===e&&(n=void 0)})),(l.modelValue===null||s===!1)&&v(e)}function v(e){o.value!==!1&&(o.value=!1,i("beforeHide",e),a!==void 0?a(e):i("hide",e))}function V(e){l.disable===!0&&e===!0?l["onUpdate:modelValue"]!==void 0&&i("update:modelValue",!1):e===!0!==o.value&&(e===!0?p:v)(n)}b(()=>l.modelValue,V),r!==void 0&&h(f)===!0&&b(()=>c.$route.fullPath,()=>{r.value===!0&&o.value===!0&&d()}),S===!0&&x(()=>{V(l.modelValue)});const y={show:m,hide:d,toggle:U};return Object.assign(c,y),y}function I(o,u,r){let t;function a(){t!==void 0&&(H.remove(t),t=void 0)}return M(()=>{o.value===!0&&a()}),{removeFromHistory:a,addToHistory(){t={condition:()=>r.value===!0,handler:u},H.add(t)}}}function j(){let o;return{preventBodyScroll(u){u!==o&&(o!==void 0||u===!0)&&(o=u,B(u))}}}function k(){let o=null;const u=g();function r(){o!==null&&(clearTimeout(o),o=null)}return D(r),M(r),{removeTimeout:r,registerTimeout(t,a){r(),E(u)===!1&&(o=setTimeout(t,a))}}}export{C as a,F as b,k as c,I as d,j as e,A as u};
