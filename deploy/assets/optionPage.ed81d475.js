import{d as g,r as p,_,l as v,J as h,f as e,n as r,a4 as u,K as C,Q as b,L as S,k as d,an as y,a8 as V}from"./index.f98bd38e.js";import{Q as w,a as x,b as f}from"./QDialog.73c50ee4.js";import{Q as $,C as k}from"./ClosePopup.3df37fcf.js";import{a as F,Q as O}from"./QForm.1f1f6c7e.js";import{a as B}from"./QSelect.12e160d0.js";import{u as Q}from"./section.013ac97b.js";import{u as q}from"./option.799c851d.js";import{u as A}from"./use-quasar.faf7bcac.js";import{d as N}from"./dashComponent.3cc6cf32.js";import{a as U}from"./axios.6e1fcf85.js";import"./use-dark.c38352e8.js";import"./use-timeout.1a21eaf5.js";import"./focus-manager.05708ea9.js";import"./use-key-composition.c298e6f1.js";import"./uid.42677368.js";import"./QItem.9b8d2090.js";const j=g({name:"optionForm",beforeCreate(){},setup(){const t=Q(),o=q(),m=A(),s=p([]),a=p(null),l=p("");t.section.forEach(n=>{console.log(n),s.value.push({label:n.nom_section,value:n.id})}),console.log(s.value);function i(){a.value==null||l.value==""?m.notify({message:"Selectionner une section",icon:"error",iconColor:"red",textColor:"red",color:"white"}):o.saveOption({nom_option:l.value,id_section:a.value.value}).then(n=>{n.positive?m.notify({message:n.positive,icon:"check",iconColor:"white",textColor:"white",color:"green"}):m.notify({message:n.negative,icon:"error",iconColor:"white",textColor:"white",color:"red"})}),a.value=null,l.value="",o.getOption.then(n=>{o.Option=n.response})}return{options:s,onSubmit:i,model:a,nom_option:l}}}),D={class:"flex flex-center"};function E(t,o,m,s,a,l){return v(),h("div",null,[e(O,{onSubmit:S(t.onSubmit,["prevent"]),class:"q-gutter-md"},{default:r(()=>[e(F,{modelValue:t.nom_option,"onUpdate:modelValue":o[0]||(o[0]=i=>t.nom_option=i),type:"text",label:"Nom de l'option"},{prepend:r(()=>[e(u,{name:"history_edu",color:"blue-4"})]),_:1},8,["modelValue"]),e(B,{modelValue:t.model,"onUpdate:modelValue":o[1]||(o[1]=i=>t.model=i),options:t.options,label:"Section",behavior:"menu",filled:""},{prepend:r(()=>[e(u,{name:"school",color:"blue-4"})]),_:1},8,["modelValue","options"]),C("div",D,[e(b,{label:"Submit",type:"submit",color:"primary",icon:"check"})])]),_:1},8,["onSubmit"])])}var I=_(j,[["render",E]]);const P={components:{optionForm:I,dashComponent:N},beforeCreate(){const t=Q();U.get("http://localhost/chris/section/all/").then(o=>{t.setState(o.data.response)})},updated(){},setup(){return{section:p(!1)}}},J={class:"flex flex-center"},K=C("span",{class:"q-ml-sm"},"ajouter une Option",-1);function L(t,o,m,s,a,l){const i=d("dashComponent"),n=d("optionForm");return v(),h("div",J,[e(i,{name:"Ajouter une option",icon:"history_edu",onClick:o[0]||(o[0]=c=>s.section=!s.section)}),e(w,{modelValue:s.section,"onUpdate:modelValue":o[1]||(o[1]=c=>s.section=c),persistent:""},{default:r(()=>[e(x,null,{default:r(()=>[e(f,{class:"row items-center"},{default:r(()=>[e(y,{icon:"history_edu",color:"primary","text-color":"white"}),K]),_:1}),e(f,null,{default:r(()=>[e(n)]),_:1}),e($,{align:"center"},{default:r(()=>[V(e(b,{flat:"",label:"Fermer",color:"primary"},null,512),[[k]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var io=_(P,[["render",L]]);export{io as default};
