import{r as p,D as T,o as w,p as H,x,y as C,O as V,h as y,g as L,A as R,i as D,q as z,c as v,w as m,P as N,u as P}from"./index.f98bd38e.js";function S(){const t=p(!T.value);return t.value===!1&&w(()=>{t.value=!0}),t}const Q=typeof ResizeObserver!="undefined",q=Q===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var _=H({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(t,{emit:g}){let u=null,a,n={width:-1,height:-1};function l(i){i===!0||t.debounce===0||t.debounce==="0"?o():u===null&&(u=setTimeout(o,t.debounce))}function o(){if(u!==null&&(clearTimeout(u),u=null),a){const{offsetWidth:i,offsetHeight:r}=a;(i!==n.width||r!==n.height)&&(n={width:i,height:r},g("resize",n))}}const{proxy:c}=L();if(c.trigger=l,Q===!0){let i;const r=f=>{a=c.$el.parentNode,a?(i=new ResizeObserver(l),i.observe(a),o()):f!==!0&&V(()=>{r(!0)})};return w(()=>{r()}),x(()=>{u!==null&&clearTimeout(u),i!==void 0&&(i.disconnect!==void 0?i.disconnect():a&&i.unobserve(a))}),C}else{let f=function(){u!==null&&(clearTimeout(u),u=null),r!==void 0&&(r.removeEventListener!==void 0&&r.removeEventListener("resize",l,R.passive),r=void 0)},b=function(){f(),a&&a.contentDocument&&(r=a.contentDocument.defaultView,r.addEventListener("resize",l,R.passive),o())};const i=S();let r;return w(()=>{V(()=>{a=c.$el,a&&b()})}),x(f),()=>{if(i.value===!0)return y("object",{style:q.style,tabindex:-1,type:"text/html",data:q.url,"aria-hidden":"true",onLoad:b})}}}}),k=H({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(t,{slots:g,emit:u}){const{proxy:{$q:a}}=L(),n=D(P,z);if(n===z)return console.error("QHeader needs to be child of QLayout"),z;const l=p(parseInt(t.heightHint,10)),o=p(!0),c=v(()=>t.reveal===!0||n.view.value.indexOf("H")>-1||a.platform.is.ios&&n.isContainer.value===!0),i=v(()=>{if(t.modelValue!==!0)return 0;if(c.value===!0)return o.value===!0?l.value:0;const e=l.value-n.scroll.value.position;return e>0?e:0}),r=v(()=>t.modelValue!==!0||c.value===!0&&o.value!==!0),f=v(()=>t.modelValue===!0&&r.value===!0&&t.reveal===!0),b=v(()=>"q-header q-layout__section--marginal "+(c.value===!0?"fixed":"absolute")+"-top"+(t.bordered===!0?" q-header--bordered":"")+(r.value===!0?" q-header--hidden":"")+(t.modelValue!==!0?" q-layout--prevent-focus":"")),$=v(()=>{const e=n.rows.value.top,d={};return e[0]==="l"&&n.left.space===!0&&(d[a.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),e[2]==="r"&&n.right.space===!0&&(d[a.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),d});function s(e,d){n.update("header",e,d)}function h(e,d){e.value!==d&&(e.value=d)}function B({height:e}){h(l,e),s("size",e)}function E(e){f.value===!0&&h(o,!0),u("focusin",e)}m(()=>t.modelValue,e=>{s("space",e),h(o,!0),n.animate()}),m(i,e=>{s("offset",e)}),m(()=>t.reveal,e=>{e===!1&&h(o,t.modelValue)}),m(o,e=>{n.animate(),u("reveal",e)}),m(n.scroll,e=>{t.reveal===!0&&h(o,e.direction==="up"||e.position<=t.revealOffset||e.position-e.inflectionPoint<100)});const O={};return n.instances.header=O,t.modelValue===!0&&s("size",l.value),s("space",t.modelValue),s("offset",i.value),x(()=>{n.instances.header===O&&(n.instances.header=void 0,s("size",0),s("offset",0),s("space",!1))}),()=>{const e=N(g.default,[]);return t.elevated===!0&&e.push(y("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(y(_,{debounce:0,onResize:B})),y("header",{class:b.value,style:$.value,onFocusin:E},e)}}});export{_ as Q,k as a};
