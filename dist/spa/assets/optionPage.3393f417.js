import{d as g,r as m,_,l as v,J as h,f as e,n as r,a4 as u,K as C,Q as b,L as S,k as d,an as w,a8 as y}from"./index.3613b871.js";import{Q as V,a as x,b as f}from"./QDialog.910c90bb.js";import{Q as $,C as k}from"./ClosePopup.eb19ace7.js";import{a as F,Q as O}from"./QForm.30c9c5f0.js";import{a as B}from"./QSelect.5d304af8.js";import{u as Q}from"./section.83f886fa.js";import{u as q}from"./option.78d84562.js";import{u as A}from"./use-quasar.172adb27.js";import{d as N}from"./dashComponent.fe2e55d7.js";import{a as U}from"./axios.6e1fcf85.js";import"./use-dark.42ce25b7.js";import"./use-timeout.296fb3b4.js";import"./focus-manager.05708ea9.js";import"./use-key-composition.749b5dc8.js";import"./uid.42677368.js";import"./QItem.ea83679a.js";const j=g({name:"optionForm",beforeCreate(){},setup(){const t=Q(),o=q(),p=A(),s=m([]),a=m(null),l=m("");t.section.forEach(n=>{console.log(n),s.value.push({label:n.nom_section,value:n.id})}),console.log(s.value);function i(){a.value==null||l.value==""?p.notify({message:"Selectionner une section",icon:"error",iconColor:"red",textColor:"red",color:"white"}):o.saveOption({nom_option:l.value,id_section:a.value.value}).then(n=>{n.positive?p.notify({message:n.positive,icon:"check",iconColor:"white",textColor:"white",color:"green"}):p.notify({message:n.negative,icon:"error",iconColor:"white",textColor:"white",color:"red"})}),a.value=null,l.value="",o.getOption.then(n=>{o.Option=n.response})}return{options:s,onSubmit:i,model:a,nom_option:l}}}),D={class:"flex flex-center"};function E(t,o,p,s,a,l){return v(),h("div",null,[e(O,{onSubmit:S(t.onSubmit,["prevent"]),class:"q-gutter-md"},{default:r(()=>[e(F,{modelValue:t.nom_option,"onUpdate:modelValue":o[0]||(o[0]=i=>t.nom_option=i),type:"text",label:"Nom de l'option"},{prepend:r(()=>[e(u,{name:"history_edu",color:"blue-4"})]),_:1},8,["modelValue"]),e(B,{modelValue:t.model,"onUpdate:modelValue":o[1]||(o[1]=i=>t.model=i),options:t.options,label:"Section",behavior:"menu",filled:""},{prepend:r(()=>[e(u,{name:"school",color:"blue-4"})]),_:1},8,["modelValue","options"]),C("div",D,[e(b,{label:"Submit",type:"submit",color:"primary",icon:"check"})])]),_:1},8,["onSubmit"])])}var I=_(j,[["render",E]]);const P={components:{optionForm:I,dashComponent:N},beforeCreate(){const t=Q();U.get("https://gestpresence.000webhostapp.com/chris/section/all/").then(o=>{t.setState(o.data.response)})},updated(){},setup(){return{section:m(!1)}}},J={class:"flex flex-center"},K=C("span",{class:"q-ml-sm"},"ajouter une Option",-1);function L(t,o,p,s,a,l){const i=d("dashComponent"),n=d("optionForm");return v(),h("div",J,[e(i,{name:"Ajouter une option",icon:"history_edu",onClick:o[0]||(o[0]=c=>s.section=!s.section)}),e(V,{modelValue:s.section,"onUpdate:modelValue":o[1]||(o[1]=c=>s.section=c),persistent:""},{default:r(()=>[e(x,null,{default:r(()=>[e(f,{class:"row items-center"},{default:r(()=>[e(w,{icon:"history_edu",color:"primary","text-color":"white"}),K]),_:1}),e(f,null,{default:r(()=>[e(n)]),_:1}),e($,{align:"center"},{default:r(()=>[y(e(b,{flat:"",label:"Fermer",color:"primary"},null,512),[[k]])]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var io=_(P,[["render",L]]);export{io as default};
